# 正则表达式

1、在ansible中使用正则，使用“括起
"~10.8.24.([4-9]|1[0-1])$" 匹配 10.8.24.4到10.8.24.11的主机列表

2、?:匹配前面子表达式零次或一次
   *:匹配前面子表达式零次或多次
   +:匹配前面子表达式一个或多个

   使用花括号可以限制某个模式在某个范围内匹配的次数，未经修饰的量词就是贪心量词
   {n}:匹配确定的n次
   {n,}:匹配至少n次
   {n,m}:匹配n到m次
   ^:匹配字符串开始位置
   $:匹配字符串结束位置
   [0-9]:匹配单个数字
   .:匹配除"\n"之外的任何单个字符
   x|y：匹配x或y

## 量词的贪婪与非贪婪

在*,+或?后放置?，表达式可从贪婪（尽可能匹配多字符）转换为非贪婪

贪心的量词会首先匹配整个字符串。尝试匹配时，它会选定尽可能多的内容，也就是整个输入。量词首次尝试匹配整个字符串，如果失败则回退一个字符后再次尝试。这个过程叫做回溯（backtracking）。它会每次回退一个字符，直到找到匹配的内容或者没有字符可尝试为止。此外，它还记录所有的行为，因此相较另两种方式它对资源的消耗最大。它先“吃”尽所有的字符，然后每次“吐”出一点，慢慢咀嚼消化

懒惰（非贪婪）的量词则使用另一种策略。它从目标的起始位置开始尝试寻找匹配，每次检查字符串的一个字符，寻找它要匹配的内容。最后，它会尝试匹配整个字符串。

例如5*?不会匹配任何内容，因为?是非贪婪，对应*的匹配{0,}匹配次数，选择最少的0次。

## \D与\w的区别

\D会匹配空格、标点符号（引号、连字符、反斜杠、方括号）等字符

\w却不会，它只匹配字母、数字和下划线。

## 匹配空格

\s匹配内容与[ \t\r\n]一致

即\s匹配：

1. 空格
2. \n 换行
3. \r 回车
4. \t 制表符